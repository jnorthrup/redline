sequenceDiagram
    participant User
    participant Main
    participant ArgParser
    participant FileHandler
    participant Analyzer
    participant Refactorer
    participant Writer

    User->>Main: Execute script with file_path
    Main->>ArgParser: Parse command-line arguments
    ArgParser-->>Main: Return file_path
    Main->>FileHandler: Open and read file
    FileHandler-->>Main: Return code
    Main->>Analyzer: Identify function boundaries
    Analyzer-->>Main: Return boundaries
    Main->>Analyzer: Generate unique IDs
    Analyzer-->>Main: Return unique_code
    Main->>Analyzer: Add comment tokens
    Analyzer-->>Main: Return commented_code
    Main->>Refactorer: Refactor code
    Refactorer-->>Main: Return refactored_code
    Main->>FileHandler: Write refactored code to file
    FileHandler-->>Main: Confirmation
    Main->>Writer: Print completion message
